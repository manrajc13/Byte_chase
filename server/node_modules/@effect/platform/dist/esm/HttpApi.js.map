{"version":3,"file":"HttpApi.js","names":["Context","Option","pipeArguments","Predicate","Record","AST","HttpApiDecodeError","HttpApiSchema","TypeId","Symbol","for","isHttpApi","u","hasProperty","Api","Tag","Proto","pipe","arguments","add","group","makeProto","groups","set","identifier","errorSchema","annotations","middlewares","addHttpApi","api","newGroups","key","newGroup","annotateContext","empty","merge","Set","UnionUnify","addError","schema","status","getStatusError","prefix","map","middleware","tag","failure","annotate","value","context","options","HttpApi","Object","setPrototypeOf","Map","reflect","self","apiErrors","extractMembers","ast","getStatusErrorAST","values","groupErrors","groupAnnotations","onGroup","mergedAnnotations","endpoints","endpoint","predicate","errors","onEndpoint","payloads","payloadSchema","_tag","extractPayloads","emptyMap","successes","successSchema","getStatusSuccessAST","topAst","inherited","getStatus","members","process","emptyDecodeable","getEmptyDecodeable","current","get","description","none","orElse","getDescriptionOrIdentifier","Union","make","types","encodedAST","some","type","encoding","getEncoding","contentType","getMultipart","undefined","to","fromNullable","DescriptionAnnotationId","IdentifierAnnotationId","AdditionalSchemas"],"sources":["../../src/HttpApi.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}